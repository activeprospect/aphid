<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="cache-control" content="no-cache" />
    <title>Aphid.Support.Extensions.String Tests</title>
    <link rel="stylesheet" href="../../../../Build/Aphid.css" />
    <link rel="stylesheet" href="../../../Tests.css" />
    <script src="../../../../Build/Aphid.Combined.js"></script>
    <script src="../../../../Vendor/script.aculo.us/src/unittest.js"></script>
  </head>
  <body class="testCase">

    <header>
      <h1>Aphid.Support.Extensions.String Tests</h1>
    </header>

    <!-- Test Case Description -->
    <section id="descriptionSection">
      <p>
        Tests our custom extensions that we've made to the core JavaScript
        String implementation.
      </p>
    </section>

    <!-- Log Section -->
    <section id="logSection">
    </section>

    <!-- Tests -->
    <script>
      new Test.Unit.Runner({

        testStringLowerCaseFirstShouldLowerCaseFirstLetter: function() { with(this) {
          var testString = "FooBar";
          assertEqual("fooBar", testString.lowerCaseFirst());
        }},

        testStringUpperCaseFirstShouldUpperCaseFirstLetter: function() { with(this) {
          var testString = "fooBar";
          assertEqual("FooBar", testString.upperCaseFirst());
        }},

        testStringToIntShouldCastStringAsInteger: function() { with(this) {
          var testString = "123";
          assertEqual("number", typeof testString.toInt());
        }},

        testStringToDateShouldCastStringAsDate: function() { with(this) {
          var testString = "Tue Aug 24 2010 15:59:11 GMT-0500 (CDT)";
          var date       = testString.toDate();
          assertInstanceOf(Date, date);
        }},

        testStringPluralizeShouldPluralizeSimpleSingularForms: function() { with(this) {
          var testString = "Apple";
          assertEqual("Apples", testString.pluralize());
        }},

        testStringPluralizeShouldNotPluralizeWhenCountIsOne: function() { with(this) {
          var testString = "Apple";
          assertEqual("Apple", testString.pluralize(1));
        }},

        testStringPluralizeShouldPluralizeSingularFormsWithCustomPluralForm: function() { with(this) {
          var testString = "Cactus";
          assertEqual("Cacti", testString.pluralize(2, "Cacti"));
        }},

        testStringRandomShouldGenerateRandomString: function() { with(this) {
          var testString = String.random();
          assertMatch(/^[a-zA-Z0-9]+$/, testString);
        }},

        testStringRandomShouldGenerateRandomStringWithLength: function() { with(this) {
          var testString = String.random(128);
          assertMatch(/^[a-zA-Z0-9]{128}$/, testString);
        }}

      }, { testLog: "logSection" });
    </script>

  </body>
</html>
